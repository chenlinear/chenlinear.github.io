<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Liste - https://chenlinear.github.io"><title>Conda 101 | Chen Li</title><meta name=description content="Chen Li's personal blog"><meta property="og:title" content="Conda 101"><meta property="og:description" content="This article is a quick guidance to use Anaconda & Miniconda on Windows and Linux. I wrote it so that I can check the command myself.
§1 Anaconda For Windows: Go the the official website Anaconda and download the default exe file. Open and install it.
Get familiar with Jupyter Notebook. Feel free to check out some other articles and mess around, knowing that you can always delete the old environment and start from scratch, you&rsquo;ll be fine."><meta property="og:type" content="article"><meta property="og:url" content="https://chenlinear.github.io/posts/20230327-conda-101/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-03-27T00:00:00+00:00"><meta property="article:modified_time" content="2023-03-27T00:00:00+00:00"><meta itemprop=name content="Conda 101"><meta itemprop=description content="This article is a quick guidance to use Anaconda & Miniconda on Windows and Linux. I wrote it so that I can check the command myself.
§1 Anaconda For Windows: Go the the official website Anaconda and download the default exe file. Open and install it.
Get familiar with Jupyter Notebook. Feel free to check out some other articles and mess around, knowing that you can always delete the old environment and start from scratch, you&rsquo;ll be fine."><meta itemprop=datePublished content="2023-03-27T00:00:00+00:00"><meta itemprop=dateModified content="2023-03-27T00:00:00+00:00"><meta itemprop=wordCount content="652"><meta itemprop=keywords content="programming,"><link rel=canonical href=https://chenlinear.github.io/posts/20230327-conda-101/><link rel=icon href=https://chenlinear.github.io/assets/favicon.ico><link rel=dns-prefetch href=https://www.google-analytics.com><link href=https://www.google-analytics.com rel=preconnect crossorigin><link rel=alternate type=application/atom+xml title="Chen Li" href=https://chenlinear.github.io/atom.xml><link rel=alternate type=application/json title="Chen Li" href=https://chenlinear.github.io/feed.json><link rel="shortcut icon" type=image/png href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII="><style>*,:after,:before{box-sizing:border-box;padding:0}body{font:1rem/1.5 '-apple-system',BlinkMacSystemFont,avenir next,avenir,helvetica,helvetica neue,ubuntu,roboto,noto,segoe ui,arial,sans-serif;text-align:justify;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding:2rem;background:rbg(169,169,169,1);color:#000}.skip-link{position:absolute;top:-40px;left:0;background:#eee;z-index:100}.skip-link:focus{top:0}h1,h2,h3,h4,h5{font-size:20px;font-weight:600;text-align:center}strong,b{font-size:inherit;font-weight:600}header{line-height:2;padding-bottom:1.5rem}.link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.time{font-variant-numeric:tabular-nums;white-space:nowrap}blockquote{border-left:5px solid #eee;padding-left:1rem;margin:0}a:hover,a.heading-link{text-decoration:none}a,a:visited{color:#008b8b}pre{padding:.5rem;overflow:auto;overflow-x:scroll;overflow-wrap:normal}code,pre{font-family:San Francisco Mono,Monaco,consolas,lucida console,dejavu sans mono,bitstream vera sans mono,monospace;font-size:normal;font-size:small;background:#eee}code{margin:.1rem;border:none}ul{list-style-type:circle}ul,ol{padding-left:1.2rem}.list{line-height:2;list-style-type:none;padding-left:0}.list li{padding-bottom:.1rem}.meta{color:#777}.content{max-width:90ch;margin:0 auto}header{line-height:1;display:flex;justify-content:space-between;padding-bottom:1rem}header a{text-decoration:none}header ul{list-style-type:none;padding:0}header li,header a{display:inline}h2.post{padding-top:.5rem}header ul a:first-child{padding-left:1rem}.nav{height:1px;background:#000;content:'';max-width:10%}.list li{display:flex;align-items:baseline}.list li time{flex:initial}.hr-list{margin-top:0;margin-bottom:0;margin-right:.5rem;margin-left:.5rem;height:1px;border:0;border-bottom:1px dotted #ccc;flex:1 0 1rem}.m,hr{border:0;margin:3rem 0}img{max-width:100%;height:auto}.post-date{margin:5% 0}.index-date{color:#9a9a9a}.animate-blink{animation:opacity 1s infinite;opacity:1}@keyframes opacity{0%{opacity:1}50%{opacity:.5}100%{opacity:0}}.tags{display:flex;justify-content:space-between}.tags ul{padding:0;margin:0}.tags li{display:inline}.avatar{height:135px;width:135px;position:relative;margin:0 0 0 15px;float:right;border-radius:25%}table{border-collapse:collapse}table th,table td{border:1px solid #bebebe;padding:0 5px}.toc{margin:0 auto;width:100%;padding:0;margin-bottom:10px;background-color:#f9f9f9}</style><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","name":"Conda 101","headline":"Conda 101","alternativeHeadline":"","description":"This article is a quick guidance to use Anaconda \u0026amp; Miniconda on Windows and Linux. I wrote it so that I can check the command myself.\n§1 Anaconda For Windows: Go the the official website Anaconda and download the default exe file. Open and install it.\nGet familiar with Jupyter Notebook. Feel free to check out some other articles and mess around, knowing that you can always delete the old environment and start from scratch, you\u0026rsquo;ll be fine.","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/chenlinear.github.io\/posts\/20230327-conda-101\/"},"author":{"@type":"Person","name":"Chen Li"},"creator":{"@type":"Person","name":"Chen Li"},"accountablePerson":{"@type":"Person","name":"Chen Li"},"copyrightHolder":"Chen Li","copyrightYear":"2023","dateCreated":"2023-03-27T00:00:00.00Z","datePublished":"2023-03-27T00:00:00.00Z","dateModified":"2023-03-27T00:00:00.00Z","publisher":{"@type":"Organization","name":"Chen Li","url":"https://chenlinear.github.io","logo":{"@type":"ImageObject","url":"https:\/\/chenlinear.github.io\/assets\/favicon.ico","width":"32","height":"32"}},"image":"https://chenlinear.github.io/assets/favicon.ico","url":"https:\/\/chenlinear.github.io\/posts\/20230327-conda-101\/","wordCount":"652","genre":["programming"],"keywords":["programming"]}</script></head><body><a class=skip-link href=#main>Skip to main</a><main id=main><div class=content><header><p style=padding:0;margin:0><a href=/><b>Chen Li</b>
<span class="text-stone-500 animate-blink"></span></a></p><ul style=padding:0;margin:0><li><a href=/cv/><span>CV</span></a><li><a href=/posts/><span>Posts</span></a><li><a href=/about/><span>About</span></a></li></ul></header><hr class=hr-list style=padding:0;margin:0><section><h2 class=post>Conda 101</h2><div class=toc><nav id=TableOfContents><ul><li><a href=#1-anaconda>§1 Anaconda</a></li><li><a href=#2-miniconda>§2 Miniconda</a><ul><li><a href=#21-commands>§2.1 Commands</a></li><li><a href=#22-install-jupyter-notebook-7-in-miniconda>§2.2 Install Jupyter Notebook 7 in Miniconda</a></li></ul></li></ul></nav></div><p>This article is a quick guidance to use Anaconda & Miniconda on Windows and Linux. I wrote it so that I can check the command myself.</p><h2 id=1-anaconda>§1 Anaconda</h2><p>For Windows: Go the the official website <a href=https://www.anaconda.com/>Anaconda</a> and download the default exe file. Open and install it.</p><p>Get familiar with Jupyter Notebook. Feel free to check out some other articles and mess around, knowing that you can always delete the old environment and start from scratch, you&rsquo;ll be fine. And that, is the most important message from this article.</p><h2 id=2-miniconda>§2 Miniconda</h2><p>For Windows: Go the the official website <a href=https://docs.conda.io/en/latest/miniconda.html>Miniconda</a> and download the default exe file. Open and install it.</p><p>For Linux: Use the commands shown in the website to download and install it. A few commands that could useful in a Linux system when <code>conda init &lt;SHELL_NAME></code>:</p><ul><li><p>To see shell type:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#111>echo</span> <span style=color:#111>$SHELL</span>
</span></span></code></pre></div><p>most Linux systems use <code>bash</code>, so in this case <code>conda init &lt;SHELL_NAME></code> would be:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda init bash
</span></span></code></pre></div></li><li><p>To close and restart the shell (for <code>bash</code>):</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#111>source</span> ~/.bashrc
</span></span></code></pre></div></li></ul><h3 id=21-commands>§2.1 Commands</h3><p>If you want to install new packages, such as <a href=https://docs.anaconda.com/anaconda/user-guide/tasks/tensorflow/><code>TensorFlow</code></a>, it&rsquo;s necessary to create a new environment so that these environments don&rsquo;t conflict, the official documents are always useful, and some commonly used commands after you opened the Anaconda Prompt (miniconda3) are:</p><ul><li><p>See the environments created:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda info -e
</span></span><span style=display:flex><span><span style=color:#75715e># or</span>
</span></span><span style=display:flex><span>conda info --envs
</span></span></code></pre></div></li><li><p>Create a new environment, such as <code>envName</code> (the name can be something you prefer):</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda create -n envName
</span></span><span style=display:flex><span><span style=color:#75715e># remember to change the name!</span>
</span></span><span style=display:flex><span><span style=color:#75715e># or</span>
</span></span><span style=display:flex><span>conda create --name envName
</span></span><span style=display:flex><span><span style=color:#75715e># with python=3.7</span>
</span></span><span style=display:flex><span>conda create -n envName <span style=color:#111>python</span><span style=color:#f92672>=</span>3.7
</span></span></code></pre></div></li><li><p>Activate a certain environment, such as <code>envName</code>：</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda activate envName
</span></span></code></pre></div></li><li><p>Deactivate the current environment:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda deactivate
</span></span></code></pre></div></li><li><p>Delete a certain environment, such as <code>envName</code>:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda remove -n envName --all
</span></span></code></pre></div></li><li><p>Install packages, such as <a href=https://github.com/numpy/numpy><code>numpy</code></a>, <a href=https://github.com/matplotlib/matplotlib><code>matplotlib</code></a>, <a href=https://pytorch.org/><code>torch</code></a>, <a href=https://github.com/TylerYep/torchinfo><code>torchinfo</code></a>, <a href=https://github.com/jupyterlab/jupyterlab><code>jupyterlab</code></a>:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pip install numpy
</span></span><span style=display:flex><span><span style=color:#75715e># or</span>
</span></span><span style=display:flex><span>pip install numpy -i https://mirrors.aliyun.com/pypi/simple/
</span></span><span style=display:flex><span><span style=color:#75715e># 临时从镜像阿里云下载</span>
</span></span></code></pre></div></li><li><p>See the packages installed in the <code>envName</code> environment:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda activate envName
</span></span><span style=display:flex><span>conda list
</span></span><span style=display:flex><span><span style=color:#75715e># or</span>
</span></span><span style=display:flex><span>pip list
</span></span></code></pre></div></li><li><p>Export the list of the packages installed in current environment as a <code>.txt</code> file:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda list --export &gt; requirements.txt
</span></span></code></pre></div></li><li><p>Export the list of the packages installed in the <code>envName</code> environment as a <code>.yaml</code> file with full environment information:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda env <span style=color:#111>export</span> --name envName --file requirements.yaml
</span></span></code></pre></div></li><li><p>Clear cache (Remove index cache, lock files, unused cache packages, and tarballs):</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda clean --all
</span></span></code></pre></div></li></ul><h3 id=22-install-jupyter-notebook-7-in-miniconda>§2.2 Install Jupyter Notebook 7 in Miniconda</h3><p><a href=https://blog.jupyter.org/announcing-jupyter-notebook-7-8d6d66126dcf>Jupyter Notebook 7</a> looks a lot like JupyterLab. After v7.0.0a, v7.0.0b and so on, <a href=https://github.com/jupyter/notebook/releases/tag/v7.0.1>v7.0.1</a> is released on 31 July 2023. What I like best about Jupyter Notebook 7 is Table of Content, few buttons on the upper-right of each notebook block, and the Visual Debugger that can run code line by line and show variables.</p><p>What&rsquo;s worth mentioning is that installing Jupyter Notebook 7 will install JupyterLab too, so you might as well just install JupyterLab.</p><ol><li><p>Since the <code>base</code> environment of Miniconda is kind of empty, you can install Jupyter Notebook on a new environment.</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda create -n jupyter
</span></span><span style=display:flex><span>activate jupyter
</span></span><span style=display:flex><span>pip install notebook
</span></span></code></pre></div></li><li><p>Open Jupyter Notebook:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>activate jupyter
</span></span><span style=display:flex><span>jupyter notebook
</span></span></code></pre></div></li><li><p>For Windows: After this, there should be a <code>jupyter-notebook.exe</code> file in <code>.\miniconda3\envs\jupyter\Scripts</code> folder. Now run</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>jupyter notebook --generate-config
</span></span></code></pre></div><p>You will see a <code>jupyter_notebook_config.py</code> file in <code>C:\Users\yourUserName\.jupyter</code> folder. Then find this line:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># c.ServerApp.notebook_dir = &#39;&#39;</span>
</span></span></code></pre></div><p>Change this line into:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>c</span><span style=color:#f92672>.</span><span style=color:#111>ServerApp</span><span style=color:#f92672>.</span><span style=color:#111>notebook_dir</span> <span style=color:#f92672>=</span> <span style=color:#d88200>&#39;C:\Folder\You\Like&#39;</span>
</span></span></code></pre></div><p>Next time you can double click <code>jupyter-notebook.exe</code> and it will open Jupyter Notebook in <code>C:\Folder\You\Like</code> folder. Now you can create a start menu shortcut for this .exe file or something. (And there should be a <code>jupyter-lab.exe</code> in the <code>.\miniconda3\envs\jupyter\Scripts</code> folder, you can open it as well.)</p></li><li><p>If you want to change to other environments such as <code>envName</code> when using Jupyter Notebook:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda activate jupyter
</span></span><span style=display:flex><span>conda install nb_conda_kernels
</span></span><span style=display:flex><span>conda activate envName
</span></span><span style=display:flex><span>conda install ipykernel
</span></span><span style=display:flex><span>python -m ipykernel install --user --name<span style=color:#f92672>=</span>envName
</span></span></code></pre></div></li><li><p>Delete the <code>envName</code> environment in Jupyter Notebook:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>conda activate jupyter
</span></span><span style=display:flex><span>jupyter kernelspec uninstall envName
</span></span></code></pre></div></li></ol><ul><li><p>Convert notebook.ipynb to .py:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>jupyter</span> <span style=color:#111>nbconvert</span> <span style=color:#f92672>--</span><span style=color:#111>to</span> <span style=color:#111>python</span> <span style=color:#111>notebook</span><span style=color:#f92672>.</span><span style=color:#111>ipynb</span>
</span></span></code></pre></div></li></ul><div class=post-date><span class="g time">March 27, 2023</span> &#8729;
<a href=https://chenlinear.github.io/tags/programming/>programming</a></div></section><div id=comments><script src=https://utteranc.es/client.js repo=chenlinear/chenlinear.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></div></main></body></html>